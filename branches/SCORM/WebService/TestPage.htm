<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Untitled Page</title>
    <script src="jquery-1.3.2.js" type="text/javascript" >
    
    </script>
    
    <script language="javascript"  type="text/javascript">

        function service(userAnswer)
        {
            var allInfo = new Object();
            allInfo.Language = "\"CPP\"";
            allInfo.TimeLimit = 500;
            allInfo.MemoryLimit = 500;
            var testCases = new Array();
            var test = new Object();
            test.Input = "1";
            test.Output = "1";
            
            testCases[0] = test;
            testCases[1] = test;
            
            allInfo.TestCases = testCases;
            allInfo.TestCases.Length = 2;


            var input = [1,2];
            var output = [1,2];
            
            $.ajax({
                type: "POST",
                url: "http://localhost:49440/Service1.asmx/Compile", //webservice url
                contentType: "application/json; charset=utf-8",
                data: {'source': userAnswer, 'language': allInfo.Language, 'input': input, 'output': output, 'timelimit': allInfo.TimeLimit, 'memorylimit': allInfo.MemoryLimit},
                dataType: 'json',
                success: 
                        function(response)
                        {
                           return response.d; 
                        },
                error: 
                    function(response)
                    {
                       return 0; 
                    }
            });
            
        }
    </script>

</head>
<body>
    <form id="form1" runat="server">
    <div>
        <!--input id="Source" type="text" /-->
        <textarea id="Source" style="height:300px;"></textarea>
        <input type="button" onclick="service( Source.value );" />
        <div id="Result"></div>
    </div>
    </form>
</body>
</html>
