using System;
using System.Web;
using IUDICO.DataModel;
using IUDICO.DataModel.Controllers.Student;

public partial class OpenTest : ControlledPage<OpenTestController>
{
    public int ThemeID
    {
        get
        {
            return Controller.ThemeId;
        }
    }

    protected void Page_Init(object sender, EventArgs e)
    {
        Response.Cache.SetCacheability(HttpCacheability.NoCache);
        Response.Cache.SetExpires(DateTime.Now.AddDays(-1));
    }

    protected override void BindController(OpenTestController c)
    {
        base.BindController(c);
        Bind(_nextButton, c.NextPage);
        Bind(_previousButton, c.PreviousPage);
        Load += c.PageLoad;
        c.PageContent = _pagePanel;
        c.NextButton = _nextButton;
        c.PreviousButton = _previousButton;
        c.Response = Response;
        Bind(_headerLabel, c.ThemeName, tn => string.Format("Tests from theme: {0}", tn));
        Bind(_descriptionLabel, c.Description);
        Bind(_pageCountLabel, c.PageCount);
    }
}
